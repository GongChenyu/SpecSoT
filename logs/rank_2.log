2026-01-22 00:21:21,926 - SpecSoT-Rank2 - INFO - [run_specsot.py:97] - 日志将保存到: /data/home/chenyu/Coding/SD+SoT/Speculative-Decoding-Enabled-Skeleton-of-Thought/logs/rank_2.log
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:285] - ============================================================
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:286] - SpecSoT Worker 启动
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:287] - ============================================================
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:288] - Base Model: /data/home/chenyu/Coding/SD+SoT/models/Qwen3-4B
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:289] - Eagle Model: /data/home/chenyu/Coding/SD+SoT/models/Qwen3-4B_eagle3
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:290] - Task: planning
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:291] - Enable Parallel: True
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:292] - Max New Tokens: 3000
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:293] - Random Seed: 76
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:296] - Distributed Mode: rank=2/2
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:297] - Layer Splits: 14,28
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:298] - Comm Mode: p2p
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:299] - Chunk Size: 128
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:300] - Base Port: 45000
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:301] - ============================================================
2026-01-22 00:21:22,016 - SpecSoT-Rank2 - INFO - [run_specsot.py:319] - 分布式配置: DistributedConfig(rank=2/2, layer_splits=[14, 28], comm_mode=p2p)
2026-01-22 00:21:22,017 - SpecSoT-Rank2 - INFO - [run_specsot.py:324] - >>> 正在加载 SpecSoT 模型...
2026-01-22 00:21:29,387 - SpecSoT-Rank2 - INFO - [run_specsot.py:340] - 模型加载完成，耗时: 7.37s
2026-01-22 00:21:29,389 - SpecSoT-Rank2 - INFO - [run_specsot.py:346] - Special Token IDs:
2026-01-22 00:21:29,390 - SpecSoT-Rank2 - DEBUG - [run_specsot.py:349] -   para_begin_token_id: 820 -> '####'
2026-01-22 00:21:29,390 - SpecSoT-Rank2 - DEBUG - [run_specsot.py:349] -   para_end_token_id: 5321 -> '%%%%'
2026-01-22 00:21:29,391 - SpecSoT-Rank2 - DEBUG - [run_specsot.py:349] -   ellipsis_token_id: 28149 -> '......'
2026-01-22 00:21:29,391 - SpecSoT-Rank2 - DEBUG - [run_specsot.py:349] -   half_ellipsis_token_id: 1112 -> '...'
2026-01-22 00:21:29,391 - SpecSoT-Rank2 - DEBUG - [run_specsot.py:349] -   line_break_token_id: 271 -> '

'
2026-01-22 00:21:29,391 - SpecSoT-Rank2 - DEBUG - [run_specsot.py:349] -   colon_token_id: 25 -> ':'
2026-01-22 00:21:29,391 - SpecSoT-Rank2 - DEBUG - [run_specsot.py:349] -   cn_colon_token_id: 5122 -> '：'
2026-01-22 00:21:29,392 - SpecSoT-Rank2 - DEBUG - [run_specsot.py:349] -   colon_new_line_token_id: 510 -> ':2026-01-22 00:21:29,403 - SpecSoT-Rank2 - INFO - [run_specsot.py:225] - 加载数据集: /data/home/chenyu/Coding/SD+SoT/Speculative-Decoding-Enabled-Skeleton-of-Thought/datasets/planning/industry_tasks_no_ascii.jsonl, 共 9 条样本
2026-01-22 00:21:29,403 - SpecSoT-Rank2 - INFO - [run_specsot.py:356] - 使用 1 条样本进行评估
2026-01-22 00:21:29,404 - SpecSoT-Rank2 - INFO - [run_specsot.py:371] - 
============================================================
2026-01-22 00:21:29,404 - SpecSoT-Rank2 - INFO - [run_specsot.py:372] - 样本 1/1: 请问打篮球时，如何提高投篮命中率？请给出详细的建议。...
2026-01-22 00:21:29,404 - SpecSoT-Rank2 - INFO - [run_specsot.py:373] - ============================================================
Usi2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:396] - 
[统计信息]
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:397] -   总耗时: 8.81s
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:398] -   峰值显存: 3314.62 MB
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:399] -   输出长度: 876 tokens
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:400] -   吞吐量: 99.4 tokens/s
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:401] -   并行分支数: 8
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:402] -   平均接受长度: 2.30
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:403] -   平均Draft时间: 7.34 ms
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:404] -   平均Verify时间: 71.45 ms
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:405] -   平均Update时间: 2.29 ms
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:408] - 
[响应预览]
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:409] - 指标分类【127】:......

#### 适合选项B，不使用方法A，仅输出思维骨架，且注意到，如果失败，先加热，再清洗，最后步骤1：......

#### 拆分建议【457】:......

#### 无动作，只有骨架，没有“思考过程**，只输出图像，禁止输入多余的分析、推理、推理步骤、推理过程、段落、所有内容必须是“标题+【数字】:......

#### 技能：......

#### 电热**：
#### 技能：......

#### 1. 第一冷凝器【321】:......

#### 2. 第二冷凝器【234】:......

####%%%%

#### 适合选项B，不使用方法A，仅输出思维骨架，且注意到，如果失败，先加热，再清洗，最后步骤1：




</think>

提高投篮命中率需要从技术、训练和心理多个方面入手。首先，确保正确的姿势和出手动作，保持手肘自然弯曲，手腕发力，避免过度伸展。其次，加强核心力量和身体协调性，有助于提高投篮的稳定性和准确性。此外，练习不同距离和角度的投篮，增强

#### 拆分建议【457】: 保持专注，专注于投篮动作的细节，如手型...
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:463] - 正在清理分布式资源...
2026-01-22 00:21:38,336 - SpecSoT-Rank2 - INFO - [run_specsot.py:465] - 分布式资源已清理
2026-01-22 00:21:38,336 - SpecSoT-Rank2 - INFO - [run_specsot.py:467] - Worker 执行完成
le KV | chunk=0, size=0.50MB
2026-01-22 00:21:29.699 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:554] - [CHUNK 1/5] 完成 | 总耗时: 263.68ms
2026-01-22 00:21:29.699 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:287] - 
[CHUNK 2/5] 开始处理 | seq_len=128, first=False, last=False
2026-01-22 00:21:29.699 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:302] -   [PHASE 1] 等待接收 Hidden States (from Rank 1)...
2026-01-22 00:21:29.699 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:311] -   [PHASE 1][RECV] Hidden States | shape=(1, 128, 2560), dtype=float16, device=cuda:0, size=0.625MB | chunk_idx=1
2026-01-22 00:21:29.699 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:320] -   [PHASE 2] 开始计算 Decoder Layers [28, 36)
2026-01-22 00:21:29.713 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:433] -   [PHASE 2] 完成 | layers=8, cache_sent=16, eagle_hidden_sent=0 | 耗时: 13.80ms
2026-01-22 00:21:29.713 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:452] -   [PHASE 3] 执行 Eagle Layer 计算...
2026-01-22 00:21:29.714 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:463] -   [PHASE 3][RECV] 等待 Eagle Input Hidden States...
2026-01-22 00:21:29.714 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:472] -   [PHASE 3][RECV] 收到 2 个 Eagle Hidden | 耗时: 0.05ms
2026-01-22 00:21:29.716 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:520] -   [PHASE 3][BROADCAST] Eagle Stable KV | chunk=1, size=0.50MB
2026-01-22 00:21:29.718 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:554] - [CHUNK 2/5] 完成 | 总耗时: 18.39ms
2026-01-22 00:21:29.718 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:287] - 
[CHUNK 3/5] 开始处理 | seq_len=128, first=False, last=False
2026-01-22 00:21:29.718 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:302] -   [PHASE 1] 等待接收 Hidden States (from Rank 1)...
2026-01-22 00:21:29.718 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:311] -   [PHASE 1][RECV] Hidden States | shape=(1, 128, 2560), dtype=float16, device=cuda:0, size=0.625MB | chunk_idx=2
2026-01-22 00:21:29.718 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:320] -   [PHASE 2] 开始计算 Decoder Layers [28, 36)
2026-01-22 00:21:29.733 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:433] -   [PHASE 2] 完成 | layers=8, cache_sent=16, eagle_hidden_sent=0 | 耗时: 15.19ms
2026-01-22 00:21:29.733 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:452] -   [PHASE 3] 执行 Eagle Layer 计算...
2026-01-22 00:21:29.733 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:463] -   [PHASE 3][RECV] 等待 Eagle Input Hidden States...
2026-01-22 00:21:29.733 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:472] -   [PHASE 3][RECV] 收到 2 个 Eagle Hidden | 耗时: 0.11ms
2026-01-22 00:21:29.735 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:520] -   [PHASE 3][BROADCAST] Eagle Stable KV | chunk=2, size=0.50MB
2026-01-22 00:21:29.737 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:554] - [CHUNK 3/5] 完成 | 总耗时: 19.04ms
2026-01-22 00:21:29.737 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:287] - 
[CHUNK 4/5] 开始处理 | seq_len=128, first=False, last=False
2026-01-22 00:21:29.737 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:302] -   [PHASE 1] 等待接收 Hidden States (from Rank 1)...
2026-01-22 00:21:29.737 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:311] -   [PHASE 1][RECV] Hidden States | shape=(1, 128, 2560), dtype=float16, device=cuda:0, size=0.625MB | chunk_idx=3
2026-01-22 00:21:29.737 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:320] -   [PHASE 2] 开始计算 Decoder Layers [28, 36)
2026-01-22 00:21:29.749 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:433] -   [PHASE 2] 完成 | layers=8, cache_sent=16, eagle_hidden_sent=0 | 耗时: 12.60ms
2026-01-22 00:21:29.750 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:452] -   [PHASE 3] 执行 Eagle Layer 计算...
2026-01-22 00:21:29.750 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:463] -   [PHASE 3][RECV] 等待 Eagle Input Hidden States...
2026-01-22 00:21:29.750 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:472] -   [PHASE 3][RECV] 收到 2 个 Eagle Hidden | 耗时: 0.17ms
2026-01-22 00:21:29.751 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:520] -   [PHASE 3][BROADCAST] Eagle Stable KV | chunk=3, size=0.50MB
2026-01-22 00:21:29.753 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:554] - [CHUNK 4/5] 完成 | 总耗时: 15.94ms
2026-01-22 00:21:29.753 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:287] - 
[CHUNK 5/5] 开始处理 | seq_len=62, first=False, last=True
2026-01-22 00:21:29.753 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:302] -   [PHASE 1] 等待接收 Hidden States (from Rank 1)...
2026-01-22 00:21:29.753 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:311] -   [PHASE 1][RECV] Hidden States | shape=(1, 62, 2560), dtype=float16, device=cuda:0, size=0.303MB | chunk_idx=4
2026-01-22 00:21:29.753 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:320] -   [PHASE 2] 开始计算 Decoder Layers [28, 36)
2026-01-22 00:21:29.765 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:433] -   [PHASE 2] 完成 | layers=8, cache_sent=16, eagle_hidden_sent=0 | 耗时: 12.38ms
2026-01-22 00:21:29.765 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:452] -   [PHASE 3] 执行 Eagle Layer 计算...
2026-01-22 00:21:29.766 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:463] -   [PHASE 3][RECV] 等待 Eagle Input Hidden States...
2026-01-22 00:21:29.766 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:472] -   [PHASE 3][RECV] 收到 2 个 Eagle Hidden | 耗时: 0.05ms
2026-01-22 00:21:29.795 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:500] -   [PHASE 3] First Token 采样: 104118
2026-01-22 00:21:29.815 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:520] -   [PHASE 3][BROADCAST] Eagle Stable KV | chunk=4, size=0.24MB
2026-01-22 00:21:29.815 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:540] -   [PHASE 3][BROADCAST] Draft Tokens | shape=torch.Size([1, 40])
2026-01-22 00:21:29.815 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:545] -   [PHASE 3] Draft Tokens 广播完成
2026-01-22 00:21:29.816 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:554] - [CHUNK 5/5] 完成 | 总耗时: 63.52ms
2026-01-22 00:21:29.816 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:559] - 
============================================================
2026-01-22 00:21:29.816 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:560] - [POST-CHUNK] 所有 Chunks 处理完成，开始同步阶段
2026-01-22 00:21:29.816 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:561] - ============================================================
2026-01-22 00:21:29.816 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:618] - [SYNC] 最后一个 Rank 等待所有 Cache 同步...
2026-01-22 00:21:29.817 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:635] - [SYNC_OK] Rank 2 Cache 同步完成 | 耗时: 0.71ms
2026-01-22 00:21:29.817 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:644] - ============================================================
2026-01-22 00:21:29.817 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:645] - [PREFILL] 分布式 Prefill 完成 | 总耗时: 0.385s
2026-01-22 00:21:29.817 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:646] - ============================================================
Generated Skeleton: 指标分类【127】:......

#### 适合选项B，不使用方法A，仅输出思维骨架，且注意到，如果失败，先加热，再清洗，最后步骤1：......

#### 拆分建议【457】:......

#### 无动作，只有骨架，没有“思考过程**，只输出图像，禁止输入多余的分析、推理、推理步骤、推理过程、段落、所有内容必须是“标题+【数字】:......

#### 技能：......

#### 电热**：
#### 技能：......

#### 1. 第一冷凝器【321】:......

#### 2. 第二冷凝器【234】:......

####%%%%
Detected 8 parallel branches with predicted lengths: [200, 200, 200, 200, 200, 200, 200, 200]
Parallel Decoding Step 1
Branch 2 finished with EOS.
Parallel Decoding Step 51
Stopping due to KV cache limit: peak 3681 >= max 3674
Incomplete branches due to KV cache limit: [0, 1, 3, 4, 5, 6, 7]
Avg accepted lengths: 2.3, Avg draft time: 0.0073s, Avg update time: 0.0023s, Avg verify time: 0.0715s
Branch 0 Length: 110
Branch 1 Length: 89
Branch 2 Length: 59
Branch 3 Length: 97
Branch 4 Length: 82
Branch 5 Length: 97
Branch 6 Length: 83
Branch 7 Length: 88
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:396] - 
[统计信息]
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:397] -   总耗时: 8.81s
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:398] -   峰值显存: 3314.62 MB
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:399] -   输出长度: 876 tokens
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:400] -   吞吐量: 99.4 tokens/s
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:401] -   并行分支数: 8
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:402] -   平均接受长度: 2.30
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:403] -   平均Draft时间: 7.34 ms
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:404] -   平均Verify时间: 71.45 ms
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:405] -   平均Update时间: 2.29 ms
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:408] - 
[响应预览]
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:409] - 指标分类【127】:......

#### 适合选项B，不使用方法A，仅输出思维骨架，且注意到，如果失败，先加热，再清洗，最后步骤1：......

#### 拆分建议【457】:......

#### 无动作，只有骨架，没有“思考过程**，只输出图像，禁止输入多余的分析、推理、推理步骤、推理过程、段落、所有内容必须是“标题+【数字】:......

#### 技能：......

#### 电热**：
#### 技能：......

#### 1. 第一冷凝器【321】:......

#### 2. 第二冷凝器【234】:......

####%%%%

#### 适合选项B，不使用方法A，仅输出思维骨架，且注意到，如果失败，先加热，再清洗，最后步骤1：




</think>

提高投篮命中率需要从技术、训练和心理多个方面入手。首先，确保正确的姿势和出手动作，保持手肘自然弯曲，手腕发力，避免过度伸展。其次，加强核心力量和身体协调性，有助于提高投篮的稳定性和准确性。此外，练习不同距离和角度的投篮，增强

#### 拆分建议【457】: 保持专注，专注于投篮动作的细节，如手型...
2026-01-22 00:21:38,228 - SpecSoT-Rank2 - INFO - [run_specsot.py:463] - 正在清理分布式资源...
2026-01-22 00:21:38.228 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:206] - [CLEANUP] 通信统计: {'draft_tokens_sent': 2, 'draft_tokens_recv': 0, 'hidden_sent': 0, 'hidden_recv': 5, 'eagle_input_hidden_sent': 0, 'eagle_input_hidden_recv': 10, 'base_cache_sent': 80, 'base_cache_recv': 140, 'eagle_cache_sent': 10, 'eagle_cache_recv': 0, 'aggregated_sends': 0, 'forwarded_messages': 0}
2026-01-22 00:21:38.335 - DistPrefill-Rank2 - INFO - [distributed_prefill.py:209] - [CLEANUP] 分布式Prefill管理器已清理
2026-01-22 00:21:38,336 - SpecSoT-Rank2 - INFO - [run_specsot.py:465] - 分布式资源已清理
2026-01-22 00:21:38,336 - SpecSoT-Rank2 - INFO - [run_specsot.py:467] - Worker 执行完成
