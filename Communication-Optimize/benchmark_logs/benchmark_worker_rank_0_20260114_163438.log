2026-01-14 16:34:38,141 - root - INFO - Worker Rank 0 启动，日志: /data/home/chenyu/Coding/SD+SoT/Speculative-Decoding-Enabled-Skeleton-of-Thought/Communication-Optimize/benchmark_logs/benchmark_worker_rank_0_20260114_163438.log
2026-01-14 16:34:46,066 - root - INFO - Rank 0 开始测试: mode=p2p, test_id=0, warmup=True
2026-01-14 16:34:46,066 - root - INFO - Rank 0 创建新引擎: mode=p2p
2026-01-14 16:34:46,067 - ZMQ-Rank-0 - INFO - 检测到 CUDA_VISIBLE_DEVICES=5，使用逻辑设备 cuda:0
2026-01-14 16:34:46,067 - ZMQ-Rank-0 - INFO - 初始化ZMQ通信管理器 (mode=p2p)
2026-01-14 16:34:46,067 - ZMQComm-Rank0 - INFO - 设置P2P模式 ZMQ sockets
2026-01-14 16:34:46,068 - ZMQComm-Rank0 - INFO - P2P模式 ZMQ sockets设置完成
2026-01-14 16:34:46,068 - ZMQ-Rank-0 - INFO - 等待其他节点就绪 (0.5秒)...
2026-01-14 16:34:46,569 - ZMQComm-Rank0 - INFO - 接收线程启动
2026-01-14 16:34:46,570 - ZMQComm-Rank0 - INFO - P2P发送线程启动
2026-01-14 16:34:46,570 - ZMQComm-Rank0 - INFO - 通信管理器已启动 (P2PCommManager)
2026-01-14 16:34:46,570 - ZMQ-Rank-0 - INFO - 初始化设备 Rank 0/3
2026-01-14 16:34:46,856 - ZMQ-Rank-0 - INFO - 加载模型: /data/home/chenyu/Coding/SD+SoT/models/Qwen3-4B
2026-01-14 16:34:48,256 - ZMQ-Rank-0 - INFO - 模型加载完成，共36层
2026-01-14 16:34:48,259 - ZMQ-Rank-0 - INFO - KV Cache 预分配完成（最大长度: 2200）
2026-01-14 16:34:48,259 - root - INFO - Rank 0 引擎创建完成
2026-01-14 16:34:48,259 - ZMQ-Rank-0 - INFO - ============================================================
2026-01-14 16:34:48,259 - ZMQ-Rank-0 - INFO - 开始 Prefill 阶段 (SP+PP with ZMQ)
2026-01-14 16:34:48,271 - ZMQ-Rank-0 - INFO - Prompt长度: 17 tokens
2026-01-14 16:34:48,271 - ZMQ-Rank-0 - INFO - 切分为 1 个chunks (chunk_size=128)
2026-01-14 16:34:48,271 - ZMQ-Rank-0 - INFO - 负责层范围: [0, 12)
2026-01-14 16:34:48,271 - ZMQ-Rank-0 - INFO - 处理 chunk 1/1
2026-01-14 16:34:48,486 - ZMQ-Rank-0 - INFO -   chunk 1 处理完成
2026-01-14 16:34:49,033 - ZMQ-Rank-0 - INFO - First token 同步完成: 220
2026-01-14 16:34:49,034 - ZMQ-Rank-0 - INFO - 等待接收 24 个cache...
2026-01-14 16:34:49,036 - ZMQ-Rank-0 - INFO - 所有cache接收完成
2026-01-14 16:34:49,036 - ZMQ-Rank-0 - INFO - Prefill 总耗时: 0.777s, cache同步耗时: 0.777s, 计算耗时: 0.227s
2026-01-14 16:34:49,037 - root - INFO - Rank 0 完成测试: test_id=0
2026-01-14 16:34:52,043 - root - INFO - Rank 0 开始测试: mode=p2p, test_id=1, warmup=True
2026-01-14 16:34:52,043 - ZMQ-Rank-0 - INFO - ============================================================
2026-01-14 16:34:52,044 - ZMQ-Rank-0 - INFO - 开始 Prefill 阶段 (SP+PP with ZMQ)
2026-01-14 16:34:52,048 - ZMQ-Rank-0 - INFO - Prompt长度: 17 tokens
2026-01-14 16:34:52,048 - ZMQ-Rank-0 - INFO - 切分为 1 个chunks (chunk_size=128)
2026-01-14 16:34:52,048 - ZMQ-Rank-0 - INFO - 负责层范围: [0, 12)
2026-01-14 16:34:52,048 - ZMQ-Rank-0 - INFO - 处理 chunk 1/1
2026-01-14 16:34:52,152 - ZMQ-Rank-0 - INFO -   chunk 1 处理完成
2026-01-14 16:34:52,433 - ZMQ-Rank-0 - INFO - First token 同步完成: 220
2026-01-14 16:34:52,434 - ZMQ-Rank-0 - INFO - 等待接收 24 个cache...
2026-01-14 16:34:52,437 - ZMQ-Rank-0 - INFO - 所有cache接收完成
2026-01-14 16:34:52,437 - ZMQ-Rank-0 - INFO - Prefill 总耗时: 0.393s, cache同步耗时: 0.393s, 计算耗时: 0.108s
2026-01-14 16:34:52,437 - root - INFO - Rank 0 完成测试: test_id=1
2026-01-14 16:34:52,438 - root - INFO - Rank 0 开始测试: mode=p2p, test_id=0, warmup=False
2026-01-14 16:34:52,438 - ZMQ-Rank-0 - INFO - ============================================================
2026-01-14 16:34:52,439 - ZMQ-Rank-0 - INFO - 开始 Prefill 阶段 (SP+PP with ZMQ)
2026-01-14 16:34:52,440 - ZMQ-Rank-0 - INFO - Prompt长度: 17 tokens
2026-01-14 16:34:52,440 - ZMQ-Rank-0 - INFO - 切分为 1 个chunks (chunk_size=128)
2026-01-14 16:34:52,440 - ZMQ-Rank-0 - INFO - 负责层范围: [0, 12)
2026-01-14 16:34:52,440 - ZMQ-Rank-0 - INFO - 处理 chunk 1/1
2026-01-14 16:34:52,491 - ZMQ-Rank-0 - INFO -   chunk 1 处理完成
2026-01-14 16:34:52,621 - ZMQ-Rank-0 - INFO - First token 同步完成: 220
2026-01-14 16:34:52,621 - ZMQ-Rank-0 - INFO - 等待接收 24 个cache...
2026-01-14 16:34:52,624 - ZMQ-Rank-0 - INFO - 所有cache接收完成
2026-01-14 16:34:52,624 - ZMQ-Rank-0 - INFO - Prefill 总耗时: 0.186s, cache同步耗时: 0.186s, 计算耗时: 0.052s
2026-01-14 16:34:52,624 - root - INFO - Rank 0 完成测试: test_id=0
2026-01-14 16:34:55,628 - root - INFO - Rank 0 开始测试: mode=p2p, test_id=1, warmup=False
2026-01-14 16:34:55,629 - ZMQ-Rank-0 - INFO - ============================================================
2026-01-14 16:34:55,629 - ZMQ-Rank-0 - INFO - 开始 Prefill 阶段 (SP+PP with ZMQ)
2026-01-14 16:34:55,631 - ZMQ-Rank-0 - INFO - Prompt长度: 17 tokens
2026-01-14 16:34:55,631 - ZMQ-Rank-0 - INFO - 切分为 1 个chunks (chunk_size=128)
2026-01-14 16:34:55,631 - ZMQ-Rank-0 - INFO - 负责层范围: [0, 12)
2026-01-14 16:34:55,631 - ZMQ-Rank-0 - INFO - 处理 chunk 1/1
2026-01-14 16:34:55,685 - ZMQ-Rank-0 - INFO -   chunk 1 处理完成
2026-01-14 16:34:55,816 - ZMQ-Rank-0 - INFO - First token 同步完成: 220
2026-01-14 16:34:55,817 - ZMQ-Rank-0 - INFO - 等待接收 24 个cache...
2026-01-14 16:34:55,820 - ZMQ-Rank-0 - INFO - 所有cache接收完成
2026-01-14 16:34:55,820 - ZMQ-Rank-0 - INFO - Prefill 总耗时: 0.191s, cache同步耗时: 0.191s, 计算耗时: 0.056s
2026-01-14 16:34:55,820 - root - INFO - Rank 0 完成测试: test_id=1
